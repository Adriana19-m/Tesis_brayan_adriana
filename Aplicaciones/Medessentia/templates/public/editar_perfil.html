{% extends "public/base_public.html" %}
{% block title %}Editar perfil{% endblock %}
{% block body_class %}inner-page{% endblock %}

{% block content %}
<section class="section" style="padding-top: 40px;">
  <div class="container">
    <h2 class="mb-4">Editar Perfil</h2>

    {% if messages %}
      {% for message in messages %}
        <div class="alert alert-{{ message.tags|default:'info' }}">{{ message }}</div>
      {% endfor %}
    {% endif %}

    <div class="row">
      <div class="col-lg-8">
        <form method="post" class="card p-4 shadow-sm">
          {% csrf_token %}

          <div class="mb-3">
            <label class="form-label" for="genero_usuario">Género</label>
            <select name="genero_usuario" id="genero_usuario" class="form-select">
              <option value="" {% if not perfil.genero_usuario %}selected{% endif %}>Selecciona género</option>
              <option value="Masculino" {% if perfil.genero_usuario == "Masculino" %}selected{% endif %}>Masculino</option>
              <option value="Femenino" {% if perfil.genero_usuario == "Femenino" %}selected{% endif %}>Femenino</option>
              <option value="Otro" {% if perfil.genero_usuario == "Otro" %}selected{% endif %}>Otro</option>
            </select>
          </div>

          <div class="mb-3">
            <label class="form-label" for="cedula_usuario">Cédula</label>
            <input type="text" name="cedula_usuario" id="cedula_usuario" class="form-control"
                   value="{{ perfil.cedula_usuario }}" required maxlength="10" pattern="\d{10}">
            <div class="form-text">10 dígitos numéricos.</div>
          </div>

          <div class="mb-3">
            <label class="form-label" for="telefono_usuario">Teléfono</label>
            <input type="text" name="telefono_usuario" id="telefono_usuario" class="form-control"
                   value="{{ perfil.telefono_usuario }}" maxlength="10" pattern="\d{10}">
            <div class="form-text">10 dígitos numéricos.</div>
          </div>

          <div class="mb-3">
            <label class="form-label" for="direccion_usuario">Dirección</label>
            <input type="text" name="direccion_usuario" id="direccion_usuario" class="form-control"
                   value="{{ perfil.direccion_usuario }}">
          </div>

          <button type="submit" class="btn btn-primary w-100">Guardar cambios</button>
        </form>

        <div class="mt-3">
          <a class="btn btn-outline-secondary me-2" href="{% url 'mi_perfil' %}">Volver a mi perfil</a>
          <a class="btn btn-outline-primary" href="{% url 'editar_cuenta' %}">Editar datos de cuenta (nombre, email)</a>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
